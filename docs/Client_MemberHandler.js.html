<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Client/MemberHandler.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Client/MemberHandler.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const Listenable = require("../Utils/Listenable.js");
const Message = require("../Utils/Message.js");

/**
 * A handler for incoming messages sent by a specific user or for sending messages to that specific
 * @mixes Listenable
 * */
class MemberHandler extends Listenable(){

    /**
     * Creates a new Handler for incoming messages sent by the given user id.
     * Do not try to create new MemberHandler Objects by yourself in your application, this should be done by the client handler
     * (which will react to changes in your application by getting updates about channel and user states from the server)
     * @param {string} id the User id of the sender
     * @param {ChannelHandler} channel the superordinate channel handler, of which this member is part of
     * */
    constructor(id, channel){
        super();
        this._id = id;
        this._channel = channel;
    }

    /**
     * get the member id
     * @readonly
     * @returns {string} the id of this Member
     * */
    get id(){
        return this._id;
    }

    set id(v){
        throw new TypeError("cannot set property id (readonly)");
    }

    /**
     * get the channel Object
     * @readonly
     * @return {ChannelHandler} the channel that this member is part of
     * */
    get channel(){
        return this._channel;
    }

    /**
     * Send a message in this channel to this specific channel member with the given type and content
     * @param {string} type the type of the message
     * @param {*} content the content of the message
     * *//**
     * Sends the given message. If there is no receiver given, it will be added (sender and channel may also be added, but not overwritten)
     * @param {Message} message the message to send
     */
    send(message){
        if(arguments.length === 2){
            message = new Message({
                type: arguments[0],
                content: arguments[1]
            });
        }
        if(!message.receiver) message = message.withReceiver(this._id);
        this._channel.send(message);
    }

    _messagehandler(message){
        if(message.sender === this._id || message.sender === Message.Addresses.ALL)
            this.trigger(message.type, [message.content, message]);
    }

}

module.exports = MemberHandler;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-ArrayTools.html">ArrayTools</a></li></ul><h3>Classes</h3><ul><li><a href="Channel.html">Channel</a></li><li><a href="ChannelHandler.html">ChannelHandler</a></li><li><a href="ClientHandler.html">ClientHandler</a></li><li><a href="Hub.html">Hub</a></li><li><a href="MemberHandler.html">MemberHandler</a></li><li><a href="Message.html">Message</a></li><li><a href="ServerContext.html">ServerContext</a></li><li><a href="User.html">User</a></li></ul><h3>Mixins</h3><ul><li><a href="Listenable.html">Listenable</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Feb 17 2019 23:26:34 GMT+0100 (GMT+01:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
